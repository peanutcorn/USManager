{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MainCom\\\\Desktop\\\\univ\\\\\\uACFC\\uC81C\\\\univm\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { TextField, Button, Box, Typography, styled } from '@mui/material';\n\n// 로그인 폼 스타일링\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledTextField = styled(TextField)({\n  '& .MuiOutlinedInput-root': {\n    '& fieldset': {\n      borderColor: '#dadce0',\n      borderRadius: '4px'\n    },\n    '&:hover fieldset': {\n      borderColor: '#dadce0'\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: '#1a73e8',\n      borderWidth: '2px'\n    }\n  },\n  '& .MuiOutlinedInput-input': {\n    padding: '12px 14px'\n  },\n  '& .MuiInputLabel-outlined': {\n    transform: 'translate(14px, 14px) scale(1)'\n  },\n  '& .MuiInputLabel-outlined.MuiInputLabel-shrink': {\n    transform: 'translate(14px, -6px) scale(0.75)'\n  }\n});\n\n// 버튼 스타일링\n_c = StyledTextField;\nconst StyledButton = styled(Button)({\n  backgroundColor: '#1a73e8',\n  color: '#fff',\n  textTransform: 'none',\n  padding: '8px 24px',\n  fontSize: '14px',\n  fontWeight: 500,\n  borderRadius: '4px',\n  '&:hover': {\n    backgroundColor: '#1557b0'\n  }\n});\n\n// 로그인 컴포넌트\n_c2 = StyledButton;\nconst Login = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    // 초기 상태 설정\n    id: '',\n    password: ''\n  });\n  const [error, setError] = useState(''); // 에러 메시지 상태\n  const [userType, setUserType] = useState(''); // 사용자 유형 상태\n  const [loading, setLoading] = useState(false); // 로딩 상태\n\n  const determineUserType = id => {\n    // ID에 따라 사용자 유형을 결정하는 함수\n    if (id.startsWith('A')) {\n      return 'Admin';\n    } else if (id.length === 8) {\n      return 'Student';\n    } else if (id.length === 10) {\n      return 'Professor';\n    }\n    return '';\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios.post('http://localhost:8080/api/auth/login', formData);\n      if (response.data.status === 'success') {\n        const {\n          user\n        } = response.data;\n        console.log('Login successful:', user);\n\n        // 사용자 유형 결정\n        localStorage.setItem('user', JSON.stringify(user));\n\n        // 로그인 성공 후 사용자 유형 결정\n        switch (user.userType) {\n          case 'student':\n            // 학생 대시보드로 리다이렉트\n            break;\n          case 'professor':\n            // 교수 대시보드로 리다이렉트\n            break;\n          case 'admin':\n            // 관리자 대시보드로 리다이렉트\n            break;\n        }\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Login error:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Login failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  let handleChange;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"system-logo\",\n        children: \"\\uB3D9\\uC758\\uB300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        className: \"login-title\",\n        children: \"\\uD559\\uC0DD\\uC815\\uBCF4 \\uC2DC\\uC2A4\\uD15C \\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSubmit,\n      width: \"100%\",\n      children: [/*#__PURE__*/_jsxDEV(StyledTextField, {\n        fullWidth: true,\n        margin: \"normal\",\n        label: \"\\uC544\\uC774\\uB514\",\n        name: \"id\",\n        variant: \"outlined\",\n        value: formData.id,\n        onChange: handleChange,\n        helperText: userType || ' ',\n        error: !!error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n        fullWidth: true,\n        margin: \"normal\",\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n        name: \"password\",\n        type: \"password\",\n        variant: \"outlined\",\n        value: formData.password,\n        onChange: handleChange,\n        error: !!error,\n        helperText: error || ' '\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 4,\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(StyledButton, {\n          type: \"submit\",\n          variant: \"contained\",\n          disabled: !formData.id || !formData.password,\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"GOF6dgL605C4xLbaN+/OUlIEhj4=\");\n_c3 = Login;\nexport default Login;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StyledTextField\");\n$RefreshReg$(_c2, \"StyledButton\");\n$RefreshReg$(_c3, \"Login\");","map":{"version":3,"names":["React","useState","axios","TextField","Button","Box","Typography","styled","jsxDEV","_jsxDEV","StyledTextField","borderColor","borderRadius","borderWidth","padding","transform","_c","StyledButton","backgroundColor","color","textTransform","fontSize","fontWeight","_c2","Login","_s","formData","setFormData","id","password","error","setError","userType","setUserType","loading","setLoading","determineUserType","startsWith","length","handleSubmit","e","preventDefault","response","post","data","status","user","console","log","localStorage","setItem","JSON","stringify","err","_err$response","_err$response$data","message","handleChange","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","component","onSubmit","width","fullWidth","margin","label","name","value","onChange","helperText","type","mt","display","justifyContent","disabled","_c3","$RefreshReg$"],"sources":["C:/Users/MainCom/Desktop/univ/과제/univm/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    TextField,\r\n    Button,\r\n    Box,\r\n    Typography,\r\n    styled\r\n} from '@mui/material';\r\n\r\n// 로그인 폼 스타일링\r\nconst StyledTextField = styled(TextField)({\r\n    '& .MuiOutlinedInput-root': {\r\n        '& fieldset': {\r\n            borderColor: '#dadce0',\r\n            borderRadius: '4px',\r\n        },\r\n        '&:hover fieldset': {\r\n            borderColor: '#dadce0',\r\n        },\r\n        '&.Mui-focused fieldset': {\r\n            borderColor: '#1a73e8',\r\n            borderWidth: '2px',\r\n        },\r\n    },\r\n    '& .MuiOutlinedInput-input': {\r\n        padding: '12px 14px',\r\n    },\r\n    '& .MuiInputLabel-outlined': {\r\n        transform: 'translate(14px, 14px) scale(1)',\r\n    },\r\n    '& .MuiInputLabel-outlined.MuiInputLabel-shrink': {\r\n        transform: 'translate(14px, -6px) scale(0.75)',\r\n    },\r\n});\r\n\r\n// 버튼 스타일링\r\nconst StyledButton = styled(Button)({\r\n    backgroundColor: '#1a73e8',\r\n    color: '#fff',\r\n    textTransform: 'none',\r\n    padding: '8px 24px',\r\n    fontSize: '14px',\r\n    fontWeight: 500,\r\n    borderRadius: '4px',\r\n    '&:hover': {\r\n        backgroundColor: '#1557b0',\r\n    },\r\n});\r\n\r\n// 로그인 컴포넌트\r\nconst Login = () => {\r\n    const [formData, setFormData] = useState({ // 초기 상태 설정\r\n        id: '',\r\n        password: ''\r\n    });\r\n    const [error, setError] = useState(''); // 에러 메시지 상태\r\n    const [userType, setUserType] = useState(''); // 사용자 유형 상태\r\n    const [loading, setLoading] = useState(false); // 로딩 상태\r\n\r\n    const determineUserType = (id) => { // ID에 따라 사용자 유형을 결정하는 함수\r\n        if (id.startsWith('A')) {\r\n            return 'Admin';\r\n        } else if (id.length === 8) {\r\n            return 'Student';\r\n        } else if (id.length === 10) {\r\n            return 'Professor';\r\n        }\r\n        return '';\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:8080/api/auth/login', formData);\r\n\r\n            if (response.data.status === 'success') {\r\n                const { user } = response.data;\r\n                console.log('Login successful:', user);\r\n\r\n                // 사용자 유형 결정\r\n                localStorage.setItem('user', JSON.stringify(user));\r\n\r\n                // 로그인 성공 후 사용자 유형 결정\r\n                switch (user.userType) {\r\n                    case 'student':\r\n                        // 학생 대시보드로 리다이렉트\r\n                        break;\r\n                    case 'professor':\r\n                        // 교수 대시보드로 리다이렉트\r\n                        break;\r\n                    case 'admin':\r\n                        // 관리자 대시보드로 리다이렉트\r\n                        break;\r\n                }\r\n            }\r\n        } catch (err) {\r\n            console.error('Login error:', err);\r\n            setError(err.response?.data?.message || 'Login failed. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    let handleChange;\r\n    return (\r\n        <div className=\"login-container\">\r\n            <div className=\"login-header\">\r\n                <div className=\"system-logo\">\r\n                    동의대\r\n                </div>\r\n                <Typography variant=\"h5\" className=\"login-title\">\r\n                    학생정보 시스템 로그인\r\n                </Typography>\r\n            </div>\r\n\r\n            <Box component=\"form\" onSubmit={handleSubmit} width=\"100%\">\r\n                <StyledTextField\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    label=\"아이디\"\r\n                    name=\"id\"\r\n                    variant=\"outlined\"\r\n                    value={formData.id}\r\n                    onChange={handleChange}\r\n                    helperText={userType || ' '}\r\n                    error={!!error}\r\n                />\r\n\r\n                <StyledTextField\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    label=\"비밀번호\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    error={!!error}\r\n                    helperText={error || ' '}\r\n                />\r\n\r\n                <Box mt={4} display=\"flex\" justifyContent=\"flex-end\">\r\n                    <StyledButton\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        disabled={!formData.id || !formData.password}\r\n                    >\r\n                        로그인\r\n                    </StyledButton>\r\n                </Box>\r\n            </Box>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}