{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MainCom\\\\Desktop\\\\univ\\\\\\uACFC\\uC81C\\\\univm\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { TextField, Button, Box, Typography, styled } from '@mui/material';\n\n// 로그인 폼 스타일링\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledTextField = styled(TextField)({\n  '& .MuiOutlinedInput-root': {\n    '& fieldset': {\n      borderColor: '#dadce0',\n      borderRadius: '4px'\n    },\n    '&:hover fieldset': {\n      borderColor: '#dadce0'\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: '#1a73e8',\n      borderWidth: '2px'\n    }\n  },\n  '& .MuiOutlinedInput-input': {\n    padding: '12px 14px'\n  },\n  '& .MuiInputLabel-outlined': {\n    transform: 'translate(14px, 14px) scale(1)'\n  },\n  '& .MuiInputLabel-outlined.MuiInputLabel-shrink': {\n    transform: 'translate(14px, -6px) scale(0.75)'\n  }\n});\n\n// 버튼 스타일링\n_c = StyledTextField;\nconst StyledButton = styled(Button)({\n  backgroundColor: '#1a73e8',\n  color: '#fff',\n  textTransform: 'none',\n  padding: '8px 24px',\n  fontSize: '14px',\n  fontWeight: 500,\n  borderRadius: '4px',\n  '&:hover': {\n    backgroundColor: '#1557b0'\n  }\n});\n\n// 로그인 컴포넌트\n_c2 = StyledButton;\nconst Login = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    // 초기 상태 설정\n    id: '',\n    password: ''\n  });\n  const [error, setError] = useState(''); // 에러 메시지 상태\n  const [userType, setUserType] = useState(''); // 사용자 유형 상태\n\n  const determineUserType = id => {\n    // ID에 따라 사용자 유형을 결정하는 함수\n    if (id.startsWith('A')) {\n      return 'Admin';\n    } else if (id.length === 8) {\n      return 'Student';\n    } else if (id.length === 10) {\n      return 'Professor';\n    }\n    return '';\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (name === 'id') {\n      setUserType(determineUserType(value));\n      setError('');\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const loadingBar = document.querySelector('.loading-bar');\n    loadingBar.style.display = 'block';\n    try {\n      const response = await axios.post('http://localhost:8080/api/auth/login', {\n        ...formData,\n        userType: userType.toLowerCase()\n      });\n      if (response.data.status === 'success') {\n        // Handle successful login\n        console.log('로그인 성공:', response.data.user);\n      }\n    } catch (err) {\n      setError('유효하지 않은 값입니다. 다시 시도해주세요.');\n    } finally {\n      loadingBar.style.display = 'none';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"system-logo\",\n        children: \"\\uB3D9\\uC758\\uB300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        className: \"login-title\",\n        children: \"\\uD559\\uC0DD\\uC815\\uBCF4 \\uC2DC\\uC2A4\\uD15C \\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSubmit,\n      width: \"100%\",\n      children: [/*#__PURE__*/_jsxDEV(StyledTextField, {\n        fullWidth: true,\n        margin: \"normal\",\n        label: \"\\uC544\\uC774\\uB514\",\n        name: \"id\",\n        variant: \"outlined\",\n        value: formData.id,\n        onChange: handleChange,\n        helperText: userType || ' ',\n        error: !!error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n        fullWidth: true,\n        margin: \"normal\",\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n        name: \"password\",\n        type: \"password\",\n        variant: \"outlined\",\n        value: formData.password,\n        onChange: handleChange,\n        error: !!error,\n        helperText: error || ' '\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 4,\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        children: /*#__PURE__*/_jsxDEV(StyledButton, {\n          type: \"submit\",\n          variant: \"contained\",\n          disabled: !formData.id || !formData.password,\n          children: \"\\uB85C\\uADF8\\uC778\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"6FAPWhDEzVEmR2tHK5yVYOgl5kI=\");\n_c3 = Login;\nexport default Login;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StyledTextField\");\n$RefreshReg$(_c2, \"StyledButton\");\n$RefreshReg$(_c3, \"Login\");","map":{"version":3,"names":["React","useState","axios","TextField","Button","Box","Typography","styled","jsxDEV","_jsxDEV","StyledTextField","borderColor","borderRadius","borderWidth","padding","transform","_c","StyledButton","backgroundColor","color","textTransform","fontSize","fontWeight","_c2","Login","_s","formData","setFormData","id","password","error","setError","userType","setUserType","determineUserType","startsWith","length","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","loadingBar","document","querySelector","style","display","response","post","toLowerCase","data","status","console","log","user","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","component","onSubmit","width","fullWidth","margin","label","onChange","helperText","type","mt","justifyContent","disabled","_c3","$RefreshReg$"],"sources":["C:/Users/MainCom/Desktop/univ/과제/univm/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    TextField,\r\n    Button,\r\n    Box,\r\n    Typography,\r\n    styled\r\n} from '@mui/material';\r\n\r\n// 로그인 폼 스타일링\r\nconst StyledTextField = styled(TextField)({\r\n    '& .MuiOutlinedInput-root': {\r\n        '& fieldset': {\r\n            borderColor: '#dadce0',\r\n            borderRadius: '4px',\r\n        },\r\n        '&:hover fieldset': {\r\n            borderColor: '#dadce0',\r\n        },\r\n        '&.Mui-focused fieldset': {\r\n            borderColor: '#1a73e8',\r\n            borderWidth: '2px',\r\n        },\r\n    },\r\n    '& .MuiOutlinedInput-input': {\r\n        padding: '12px 14px',\r\n    },\r\n    '& .MuiInputLabel-outlined': {\r\n        transform: 'translate(14px, 14px) scale(1)',\r\n    },\r\n    '& .MuiInputLabel-outlined.MuiInputLabel-shrink': {\r\n        transform: 'translate(14px, -6px) scale(0.75)',\r\n    },\r\n});\r\n\r\n// 버튼 스타일링\r\nconst StyledButton = styled(Button)({\r\n    backgroundColor: '#1a73e8',\r\n    color: '#fff',\r\n    textTransform: 'none',\r\n    padding: '8px 24px',\r\n    fontSize: '14px',\r\n    fontWeight: 500,\r\n    borderRadius: '4px',\r\n    '&:hover': {\r\n        backgroundColor: '#1557b0',\r\n    },\r\n});\r\n\r\n// 로그인 컴포넌트\r\nconst Login = () => {\r\n    const [formData, setFormData] = useState({ // 초기 상태 설정\r\n        id: '',\r\n        password: ''\r\n    });\r\n    const [error, setError] = useState(''); // 에러 메시지 상태\r\n    const [userType, setUserType] = useState(''); // 사용자 유형 상태\r\n\r\n    const determineUserType = (id) => { // ID에 따라 사용자 유형을 결정하는 함수\r\n        if (id.startsWith('A')) {\r\n            return 'Admin';\r\n        } else if (id.length === 8) {\r\n            return 'Student';\r\n        } else if (id.length === 10) {\r\n            return 'Professor';\r\n        }\r\n        return '';\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n\r\n        if (name === 'id') {\r\n            setUserType(determineUserType(value));\r\n            setError('');\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const loadingBar = document.querySelector('.loading-bar');\r\n        loadingBar.style.display = 'block';\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:8080/api/auth/login', {\r\n                ...formData,\r\n                userType: userType.toLowerCase()\r\n            });\r\n\r\n            if (response.data.status === 'success') {\r\n                // Handle successful login\r\n                console.log('로그인 성공:', response.data.user);\r\n            }\r\n        } catch (err) {\r\n            setError('유효하지 않은 값입니다. 다시 시도해주세요.');\r\n        } finally {\r\n            loadingBar.style.display = 'none';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <div className=\"login-header\">\r\n                <div className=\"system-logo\">\r\n                    동의대\r\n                </div>\r\n                <Typography variant=\"h5\" className=\"login-title\">\r\n                    학생정보 시스템 로그인\r\n                </Typography>\r\n            </div>\r\n\r\n            <Box component=\"form\" onSubmit={handleSubmit} width=\"100%\">\r\n                <StyledTextField\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    label=\"아이디\"\r\n                    name=\"id\"\r\n                    variant=\"outlined\"\r\n                    value={formData.id}\r\n                    onChange={handleChange}\r\n                    helperText={userType || ' '}\r\n                    error={!!error}\r\n                />\r\n\r\n                <StyledTextField\r\n                    fullWidth\r\n                    margin=\"normal\"\r\n                    label=\"비밀번호\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    variant=\"outlined\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    error={!!error}\r\n                    helperText={error || ' '}\r\n                />\r\n\r\n                <Box mt={4} display=\"flex\" justifyContent=\"flex-end\">\r\n                    <StyledButton\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        disabled={!formData.id || !formData.password}\r\n                    >\r\n                        로그인\r\n                    </StyledButton>\r\n                </Box>\r\n            </Box>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}