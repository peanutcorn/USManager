{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MainCom\\\\Desktop\\\\univ\\\\\\uACFC\\uC81C\\\\univm\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Button, TextField, Paper, Typography, Container } from '@material-ui/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    id: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [userType, setUserType] = useState('');\n  const determineUserType = id => {\n    if (id.startsWith('A')) {\n      return 'admin';\n    } else if (id.length === 8) {\n      return 'student';\n    } else if (id.length === 10) {\n      return 'professor';\n    }\n    return '';\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n    if (name === 'id') {\n      const type = determineUserType(value);\n      setUserType(type);\n    }\n  };\n  const isValidId = id => {\n    return id.startsWith('A') || id.length === 8 || id.length === 10;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!isValidId(formData.id)) {\n      setError('Invalid ID format. Please check your ID.');\n      return;\n    }\n    try {\n      const response = await axios.post('http://localhost:8080/api/auth/login', {\n        ...formData,\n        userType: determineUserType(formData.id)\n      });\n      if (response.data.status === 'success') {\n        console.log('Login successful:', response.data.user);\n      }\n    } catch (error) {\n      setError('Invalid credentials');\n    }\n  };\n  const getUserTypeDisplay = () => {\n    if (!formData.id) return '';\n    if (!isValidId(formData.id)) return 'Invalid ID format';\n    const typeMap = {\n      'admin': 'Administrator',\n      'student': 'Student',\n      'professor': 'Professor'\n    };\n    return typeMap[userType] || 'Invalid ID format';\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      style: {\n        padding: '20px',\n        marginTop: '50px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        align: \"center\",\n        gutterBottom: true,\n        children: \"Education System Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          margin: \"normal\",\n          label: \"ID\",\n          name: \"id\",\n          value: formData.id,\n          onChange: handleChange,\n          helperText: `User Type: ${getUserTypeDisplay()}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          margin: \"normal\",\n          label: \"Password\",\n          name: \"password\",\n          type: \"password\",\n          value: formData.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          align: \"center\",\n          style: {\n            marginTop: '10px'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          style: {\n            marginTop: '20px'\n          },\n          disabled: !isValidId(formData.id),\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"nZwM0KP0qRT4oqJxZmZutMrmtqU=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","Button","TextField","Paper","Typography","Container","jsxDEV","_jsxDEV","Login","_s","formData","setFormData","id","password","error","setError","userType","setUserType","determineUserType","startsWith","length","handleChange","e","name","value","target","type","isValidId","handleSubmit","preventDefault","response","post","data","status","console","log","user","getUserTypeDisplay","typeMap","maxWidth","children","style","padding","marginTop","variant","align","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","fullWidth","margin","label","onChange","helperText","color","disabled","_c","$RefreshReg$"],"sources":["C:/Users/MainCom/Desktop/univ/과제/univm/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    Button,\r\n    TextField,\r\n    Paper,\r\n    Typography,\r\n    Container\r\n} from '@material-ui/core';\r\n\r\nconst Login = () => {\r\n    const [formData, setFormData] = useState({\r\n        id: '',\r\n        password: ''\r\n    });\r\n    const [error, setError] = useState('');\r\n    const [userType, setUserType] = useState('');\r\n\r\n    const determineUserType = (id) => {\r\n        if (id.startsWith('A')) {\r\n            return 'admin';\r\n        } else if (id.length === 8) {\r\n            return 'student';\r\n        } else if (id.length === 10) {\r\n            return 'professor';\r\n        }\r\n        return '';\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value\r\n        });\r\n\r\n        if (name === 'id') {\r\n            const type = determineUserType(value);\r\n            setUserType(type);\r\n        }\r\n    };\r\n\r\n    const isValidId = (id) => {\r\n        return id.startsWith('A') || id.length === 8 || id.length === 10;\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!isValidId(formData.id)) {\r\n            setError('Invalid ID format. Please check your ID.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:8080/api/auth/login', {\r\n                ...formData,\r\n                userType: determineUserType(formData.id)\r\n            });\r\n\r\n            if (response.data.status === 'success') {\r\n                console.log('Login successful:', response.data.user);\r\n            }\r\n        } catch (error) {\r\n            setError('Invalid credentials');\r\n        }\r\n    };\r\n\r\n    const getUserTypeDisplay = () => {\r\n        if (!formData.id) return '';\r\n        if (!isValidId(formData.id)) return 'Invalid ID format';\r\n        const typeMap = {\r\n            'admin': 'Administrator',\r\n            'student': 'Student',\r\n            'professor': 'Professor'\r\n        };\r\n        return typeMap[userType] || 'Invalid ID format';\r\n    };\r\n\r\n    return (\r\n        <Container maxWidth=\"sm\">\r\n            <Paper style={{ padding: '20px', marginTop: '50px' }}>\r\n                <Typography variant=\"h5\" align=\"center\" gutterBottom>\r\n                    Education System Login\r\n                </Typography>\r\n                <form onSubmit={handleSubmit}>\r\n                    <TextField\r\n                        fullWidth\r\n                        margin=\"normal\"\r\n                        label=\"ID\"\r\n                        name=\"id\"\r\n                        value={formData.id}\r\n                        onChange={handleChange}\r\n                        helperText={`User Type: ${getUserTypeDisplay()}`}\r\n                    />\r\n                    <TextField\r\n                        fullWidth\r\n                        margin=\"normal\"\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        type=\"password\"\r\n                        value={formData.password}\r\n                        onChange={handleChange}\r\n                    />\r\n                    {error && (\r\n                        <Typography color=\"error\" align=\"center\" style={{ marginTop: '10px' }}>\r\n                            {error}\r\n                        </Typography>\r\n                    )}\r\n                    <Button\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        fullWidth\r\n                        style={{ marginTop: '20px' }}\r\n                        disabled={!isValidId(formData.id)}\r\n                    >\r\n                        Login\r\n                    </Button>\r\n                </form>\r\n            </Paper>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}